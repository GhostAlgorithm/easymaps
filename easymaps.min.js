function EasyLine(e,t){this.strokeColor=e.stroke;this.strokeOpacity=e.opacity;this.strokeWeight=e.weight;this.map=t.map_obj;this.route=new google.maps.MVCArray;this.polyline=new google.maps.Polyline({path:this.route,strokeColor:this.strokeColor,strokeWeight:this.strokeWeight,strokeOpacity:this.strokeOpacity});this.setMap(this.map)}function EasyLineProperties(e){this.strokeColor=e.stroke!=null?e.stroke:"#FF0000";this.strokeOpacity=e.opacity!=null?e.opacity:1;this.strokeWeight=e.weight!=null?e.weight:5}function EasyMap(e){this.map_el=document.getElementById(e.container);this.map_obj=null;this.info_window_system=e.infoWindowSystem!=null?e.infoWindowSystem:EasyMap.InfoWindowSystem.ONE_WINDOW;this.map_markers=[];this.map_lines=[];this.map_shapes=[];this.marker_res={};this.default_line_props=new EasyLineProperties({});this.infoWindow=null;this.marker_callback=null;this.map_options={center:new google.maps.LatLng(e.latitude,e.longitude),zoom:e.zoom!=null?e.zoom:15,mapTypeId:e.mapTypeId!=null?e.mapTypeId:google.maps.MapTypeId.ROADMAP};this.map_obj=new google.maps.Map(this.map_el,this.map_options);this.initInfoWindowSystem()}function EasyMarker(e,t){this.latitude=e.latitude;this.longitude=e.longitude;this.title=e.title!=null?e.title:"";this.map=t.map_obj;this.icon=e.icon!=null?t.marker_res[e.icon]:"";this.marker=null;this.metadata=null;this.content=null;this.infoWindow=null;this.initMarker()}function EasyShape(e,t){this.map=t.map_obj;this.points=e.points;this.polygon=new google.maps.Polygon({paths:this.points});this.setMap(this.map)}EasyLine.prototype={constructor:EasyLine,setMap:function(e){this.map=e;this.polyline.setMap(this.map)},addPoint:function(e,t){this.route.push(new google.maps.LatLng(e,t))}};EasyLineProperties.prototype={constructor:EasyLineProperties,setDefaultStroke:function(e){this.strokeColor=e},getDefaultStroke:function(){return this.strokeColor},setDefaultOpacity:function(e){this.strokeOpacity=e},getDefaultOpacity:function(){return this.strokeOpacity},setDefaultWeight:function(e){this.strokeWeight=e},getDefaultWeight:function(){return this.strokeWeight},makeConfig:function(){return{stroke:this.strokeColor,opacity:this.strokeOpacity,weight:this.strokeWeight}}};EasyMap.prototype={constructor:EasyMap,initInfoWindowSystem:function(){if(this.info_window_system==EasyMap.InfoWindowSystem.ONE_WINDOW){this.infoWindow=new google.maps.InfoWindow({content:"placeholder"})}},getCenter:function(){return this.map_obj.getCenter()},setCenter:function(e,t){this.map_obj.setCenter(new google.maps.LatLng(e,t))},getZoom:function(){return this.map_obj.getZoom()},setZoom:function(e){this.map_obj.setZoom(e)},changeToRoadmap:function(){this.map_obj.setMapTypeId(google.maps.MapTypeId.google.maps.MapTypeId.ROADMAP)},changeToSatellite:function(){this.map_obj.setMapTypeId(google.maps.MapTypeId.SATELLITE)},addMarker:function(e){var t=this;var n=new EasyMarker(e,this);google.maps.event.addListener(n.marker,"click",function(){t.marker_callback(n)});this.map_markers.push(n);n.setMetadata(e.metadata);var r=this.infoWindow;if(this.info_window_system==EasyMap.InfoWindowSystem.MULTIPLE_WINDOW){r=new google.maps.InfoWindow({content:"placeholder"})}n.setInfoWindow(r);return n},addMarkerRes:function(e,t){this.marker_res[e]=t},setMarkerRes:function(e){this.marker_res=e},setMarkersCallbackFunc:function(e){this.marker_callback=e},getMarkersCallbackFunc:function(){return this.marker_callback},getMarkerIndex:function(e){return this.map_markers.indexOf(e)},newLine:function(){this.map_lines.push(new EasyLine(this.default_line_props.makeConfig(),this))},getCurrentLine:function(){return this.map_lines[this.map_lines.length-1]},newPolygon:function(e){this.map_shapes.push(new EasyShape({points:e},this))}};EasyMap.InfoWindowSystem={NONE_WINDOW:0,ONE_WINDOW:1,MULTIPLE_WINDOW:2};EasyMarker.prototype={constructor:EasyMarker,initMarker:function(){this.marker=new google.maps.Marker({position:new google.maps.LatLng(this.latitude,this.longitude),map:this.map,title:this.title,icon:this.icon})},setMetadata:function(e){this.metadata=e},getMetadata:function(){return this.metadata},setInfoContent:function(e){this.content=e},getInfoContent:function(){return this.content},setInfoWindow:function(e){this.infoWindow=e},showInfoWindow:function(e){if(e!=null){this.content=e}this.infoWindow.setContent(this.getInfoContent());this.infoWindow.open(this.map,this.marker)}};EasyShape.prototype={constructor:EasyShape,setMap:function(e){this.map=e;this.polygon.setMap(this.map)}}