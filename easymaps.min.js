function EasyMap(e){this.map_el=document.getElementById(e.container);this.map_obj=null;this.info_window_system=e.infoWindowSystem!=null?e.infoWindowSystem:EasyMap.InfoWindowSystem.ONE_WINDOW;this.map_markers=[];this.marker_res={};this.marker_metadata={};this.info_windows=[];this.info_contents=[];this.marker_callback=null;this.map_options={center:new google.maps.LatLng(e.latitude,e.longitude),zoom:e.zoom!=null?e.zoom:15,mapTypeId:e.mapTypeId!=null?e.mapTypeId:google.maps.MapTypeId.ROADMAP};this.map_obj=new google.maps.Map(this.map_el,this.map_options);this.initInfoWindowSystem()}EasyMap.prototype={constructor:EasyMap,initInfoWindowSystem:function(){if(this.info_window_system==EasyMap.InfoWindowSystem.ONE_WINDOW){this.addInfoWindow()}},getCenter:function(){return this.map_obj.getCenter()},setCenter:function(e,t){this.map_obj.setCenter(new google.maps.LatLng(e,t))},getZoom:function(){return this.map_obj.getZoom()},setZoom:function(e){this.map_obj.setZoom(e)},changeToRoadmap:function(){this.map_obj.setMapTypeId(google.maps.MapTypeId.google.maps.MapTypeId.ROADMAP)},changeToSatellite:function(){this.map_obj.setMapTypeId(google.maps.MapTypeId.SATELLITE)},addMarker:function(e){var t=this;var n=new google.maps.Marker({position:new google.maps.LatLng(e.latitude,e.longitude),map:this.map_obj,title:e.title!=null?e.title:"",icon:e.icon!=null?this.marker_res[e.icon]:""});google.maps.event.addListener(n,"click",function(){t.marker_callback(n)});this.map_markers.push(n);if(e.metadata!=null){this.marker_metadata[n]=e.metadata}if(this.info_window_system==EasyMap.InfoWindowSystem.MULTIPLE_WINDOW){this.addInfoWindow()}return n},addMarkerRes:function(e,t){this.marker_res[e]=t},setMarkerRes:function(e){this.marker_res=e},addInfoWindow:function(){var e=new google.maps.InfoWindow({content:"placeholder"});this.info_windows.push(e)},setMarkersCallbackFunc:function(e){this.marker_callback=e},getMarkersCallbackFunc:function(){return this.marker_callback},getMarkerIndex:function(e){return this.map_markers.indexOf(e)},getMarkerMetadata:function(e){return this.marker_metadata[e]},setMarkerMetadata:function(e,t){this.marker_metadata[e]=t},setInfoContent:function(e,t){var n=this.getMarkerIndex(e);this.info_contents[n]=t},getInfoContent:function(e){return this.info_contents[this.getMarkerIndex(e)]},getInfoWindow:function(e){if(this.info_window_system==EasyMap.InfoWindowSystem.MULTIPLE_WINDOW){return this.info_windows[this.getMarkerIndex(e)]}return this.info_windows[0]},showInfoWindow:function(e,t){if(t!=null){this.setInfoContent(e,t)}var n=this.getInfoWindow(e);n.setContent(this.getInfoContent(e));n.open(this.map_obj,e)}};EasyMap.InfoWindowSystem={NONE_WINDOW:0,ONE_WINDOW:1,MULTIPLE_WINDOW:2}
